const express = require('express');
const bodyParser = require('body-parser');
const app = express();

app.use(bodyParser.json());

// Sample phonebook data (in-memory storage)
const phonebook = [
  { id: 1, name: 'John Doe', phone: '123-456-7890' },
  { id: 2, name: 'Jane Smith', phone: '987-654-3210' },
];

// Endpoint to get all phonebook entries
app.get('/api/phonebook', (req, res) => {
  res.json(phonebook);
});

// Endpoint to create a new phonebook entry
app.post('/api/phonebook', (req, res) => {
  const newEntry = req.body;
  phonebook.push(newEntry);
  res.json(newEntry);
});

const port = process.env.PORT || 3000;
app.listen(port, () => {
  console.log(`Server is running on port ${port}`);
});
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phonebook App</title>
</head>
<body>
  <h1>Phonebook</h1>

  <div>
    <h2>Add New Entry</h2>
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="phone" placeholder="Phone">
    <button onclick="addEntry()">Add Entry</button>
  </div>

  <div>
    <h2>Phonebook Entries</h2>
    <ul id="phonebookList"></ul>
  </div>

  <script>
    // Function to fetch and display phonebook entries
    function fetchPhonebook() {
      fetch('/api/phonebook')
        .then(response => response.json())
        .then(data => {
          const phonebookList = document.getElementById('phonebookList');
          phonebookList.innerHTML = '';
          data.forEach(entry => {
            const listItem = document.createElement('li');
            listItem.textContent = `${entry.name}: ${entry.phone}`;
            phonebookList.appendChild(listItem);
          });
        })
        .catch(error => console.error('Error fetching phonebook:', error));
    }

    // Function to add a new phonebook entry
    function addEntry() {
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;

      fetch('/api/phonebook', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ name, phone }),
      })
        .then(response => response.json())
        .then(() => {
          // Clear input fields and fetch updated phonebook
          document.getElementById('name').value = '';
          document.getElementById('phone').value = '';
          fetchPhonebook();
        })
        .catch(error => console.error('Error adding entry:', error));
    }

    // Initial fetch when the page loads
    fetchPhonebook();
  </script>
</body>
</html>
