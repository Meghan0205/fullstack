const express = require('express');
const app = express();
const morgan = require('morgan');

// Create a custom token for morgan to log the request body
morgan.token('req-body', (req) => {
  return JSON.stringify(req.body);
});

// Configure morgan to use the "tiny" format and include the custom token
app.use(
  morgan(':method :url :status :res[content-length] - :response-time ms :req-body')
);

// Your other Express middleware and route handlers here

const PORT = process.env.PORT || 3001;
app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});

